

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reorder &mdash; oneAPI Specification 0.8 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Resampling" href="resampling.html" />
    <link rel="prev" title="Pooling" href="pooling.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">oneDNN</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../execution_model/index.html">Execution Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_model/index.html">Data model</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Primitives</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="general.html">Common Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="attributes/index.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="batch_normalization.html">Batch Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="binary.html">Binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="concat.html">Concat</a></li>
<li class="toctree-l3"><a class="reference internal" href="convolution.html">Convolution and Deconvolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="eltwise.html">Elementwise</a></li>
<li class="toctree-l3"><a class="reference internal" href="inner-product.html">Inner Product</a></li>
<li class="toctree-l3"><a class="reference internal" href="layer_normalization.html">Layer normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="logsoftmax.html">LogSoftmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="lrn.html">Local Response Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="matmul.html">Matrix Multiplication</a></li>
<li class="toctree-l3"><a class="reference internal" href="pooling.html">Pooling</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Reorder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#execution-arguments">Execution Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operation-details">Operation Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-types-support">Data Types Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-representation">Data Representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-ops-and-attributes">Post-ops and Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="resampling.html">Resampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="rnn.html">RNN</a></li>
<li class="toctree-l3"><a class="reference internal" href="shuffle.html">Shuffle</a></li>
<li class="toctree-l3"><a class="reference internal" href="softmax.html">Softmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="sum.html">Sum</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#id1">Open Source Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#implementation-notes">Implementation Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneCCL/source/index.html">oneCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneMKL/source/index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../index.html">oneDNN</a> </li>
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneDNN/source/primitives/reorder.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="reorder">
<h1>Reorder<a class="headerlink" href="#reorder" title="Permalink to this headline">Â¶</a></h1>
<p>A primitive to copy data between two memory objects. This primitive is typically
used to change the way that the data is laid out in memory.</p>
<p>The reorder primitive copies data between different memory formats but does
not change the tensor from mathematical perspective. Variable names follow
the standard <a class="reference internal" href="../conventions.html#conventions-label"><span class="std std-ref">Conventions</span></a>.</p>
<div class="math notranslate nohighlight">
\[\dst(\overline{x}) = \src(\overline{x})\]</div>
<p>for <span class="math notranslate nohighlight">\(\overline{x} = (x_0, \ldots, x_n)\)</span>.</p>
<p>As described in <a class="reference internal" href="../introduction.html#introduction-label"><span class="std std-ref">Introduction</span></a> in order to achieve the best
performance some primitives (such as convolution) require special memory
format which is typically referred to as an <em>optimized</em> memory format. The
<em>optimized</em> memory format may match or may not match memory format that data
is currently kept in. In this case a user can use reorder primitive to copy
(reorder) the data between the memory formats.</p>
<p>Using the attributes and post-ops users can also use reorder primitive to
quantize the data (and if necessary change the memory format simultaneously).</p>
<div class="section" id="execution-arguments">
<h2>Execution Arguments<a class="headerlink" href="#execution-arguments" title="Permalink to this headline">Â¶</a></h2>
<p>When executed, the inputs and outputs should be mapped to an execution
argument index as specified by the following table.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 48%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Primitive input/output</p></th>
<th class="head"><p>Execution argument index</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\src\)</span></p></td>
<td><p><a class="reference internal" href="general.html#c.DNNL_ARG_FROM" title="DNNL_ARG_FROM"><code class="xref c c-macro docutils literal notranslate"><span class="pre">DNNL_ARG_FROM</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\dst\)</span></p></td>
<td><p><a class="reference internal" href="general.html#c.DNNL_ARG_TO" title="DNNL_ARG_TO"><code class="xref c c-macro docutils literal notranslate"><span class="pre">DNNL_ARG_TO</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="operation-details">
<h2>Operation Details<a class="headerlink" href="#operation-details" title="Permalink to this headline">Â¶</a></h2>
<ol class="arabic simple">
<li><p>The reorder primitive requires the source and destination tensors to have
the same shape. Implicit broadcasting is not supported.</p></li>
<li><p>While in most of the cases the reorder should be able to handle arbitrary
source and destination memory formats and data types, it might happen than
some combinations are not implemented. For instance:</p>
<ul class="simple">
<li><p>Reorder implementations between weights in non-plain memory formats
might be limited (but if encountered in real practice should be treated
as a bug and reported to oneDNN team);</p></li>
<li><p>Weights in one Winograd format cannot be reordered to the weights of the
other Winograd format;</p></li>
<li><p>Quantized weights for convolution with #dnnl_s8 source data type cannot
be dequantized back to the #dnnl_f32 data type;</p></li>
</ul>
</li>
<li><p>To alleviate the problem a user may rely on fact that the reorder from
original plain memory format and userâs data type to the <em>optimized</em> format
with chosen data type should be always implemented.</p></li>
</ol>
</div>
<div class="section" id="data-types-support">
<h2>Data Types Support<a class="headerlink" href="#data-types-support" title="Permalink to this headline">Â¶</a></h2>
<p>The reorder primitive supports arbitrary data types for the source and
destination.</p>
<p>When converting the data from one data type to a smaller one saturation is
used. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reorder</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="mi">1024</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">f32</span><span class="p">},</span> <span class="n">dst</span><span class="o">=</span><span class="p">{,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">s8</span><span class="p">})</span>
<span class="o">//</span> <span class="n">dst</span> <span class="o">==</span> <span class="p">{</span><span class="mi">127</span><span class="p">}</span>

<span class="n">reorder</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="o">-</span><span class="mi">124</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">f32</span><span class="p">},</span> <span class="n">dst</span><span class="o">=</span><span class="p">{,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">u8</span><span class="p">})</span>
<span class="o">//</span> <span class="n">dst</span> <span class="o">==</span> <span class="p">{</span><span class="mi">0</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="data-representation">
<h2>Data Representation<a class="headerlink" href="#data-representation" title="Permalink to this headline">Â¶</a></h2>
<p>The reorder primitive works with arbitrary data tensors. There is no special
meaning associated with any logical dimensions.</p>
</div>
<div class="section" id="post-ops-and-attributes">
<h2>Post-ops and Attributes<a class="headerlink" href="#post-ops-and-attributes" title="Permalink to this headline">Â¶</a></h2>
<p>The reorder primitive should support the following attributes and post-ops:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 36%" />
<col style="width: 44%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Operation</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Restrictions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Attribute</p></td>
<td><p><a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attr17set_output_scalesEiRKNSt6vectorIfEE" title="dnnl::primitive_attr::set_output_scales"><code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">Output</span> <span class="pre">scales</span></code></a></p></td>
<td><p>Scales the result by given scale factor(s)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Post-op</p></td>
<td><p><a class="reference internal" href="attributes/post-ops.html#_CPPv4N4dnnl8post_ops10append_sumEf" title="dnnl::post_ops::append_sum"><code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">Sum</span></code></a></p></td>
<td><p>Adds the operation result to the destination tensor instead of overwriting it</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>For instance, the following pseudo-code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reorder</span><span class="p">(</span>
        <span class="n">src</span> <span class="o">=</span> <span class="p">{</span><span class="n">dims</span><span class="o">=</span><span class="p">{</span><span class="n">N</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="p">},</span> <span class="n">data_type</span><span class="o">=</span><span class="n">dt_src</span><span class="p">,</span> <span class="n">memory_format</span><span class="o">=</span><span class="n">fmt_src</span><span class="p">},</span>
        <span class="n">dst</span> <span class="o">=</span> <span class="p">{</span><span class="n">dims</span><span class="o">=</span><span class="p">{</span><span class="n">N</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">W</span><span class="p">},</span> <span class="n">data_type</span><span class="o">=</span><span class="n">dt_dst</span><span class="p">,</span> <span class="n">memory_format</span><span class="o">=</span><span class="n">fmt_dst</span><span class="p">},</span>
        <span class="n">attr</span> <span class="o">=</span><span class="p">{</span>
            <span class="n">output_scale</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span>
            <span class="n">post</span><span class="o">-</span><span class="n">ops</span> <span class="o">=</span> <span class="p">{</span> <span class="nb">sum</span><span class="o">=</span><span class="p">{</span><span class="n">scale</span><span class="o">=</span><span class="n">beta</span><span class="p">}</span> <span class="p">},</span>
        <span class="p">})</span>
</pre></div>
</div>
<p>would lead to the following operation:</p>
<div class="math notranslate nohighlight">
\[\dst(\overline{x}) =
        \alpha \cdot \src(\overline{x}) +
        \beta  \cdot \dst(\overline{x})\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The intermediate operations are being done using single precision floating
point data type.</p>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">Â¶</a></h2>
<dl class="cpp struct">
<dt id="_CPPv4N4dnnl7reorderE">
<span id="_CPPv3N4dnnl7reorderE"></span><span id="_CPPv2N4dnnl7reorderE"></span><span id="dnnl::reorder"></span><span class="target" id="structdnnl_1_1reorder"></span><em class="property">struct </em><code class="sig-prename descclassname">dnnl<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">reorder</code> : <em class="property">public</em> dnnl::<a class="reference internal" href="general.html#_CPPv4N4dnnl9primitiveE" title="dnnl::primitive">primitive</a><a class="headerlink" href="#_CPPv4N4dnnl7reorderE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reorder primitive. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N4dnnl7reorder7reorderEv">
<span id="_CPPv3N4dnnl7reorder7reorderEv"></span><span id="_CPPv2N4dnnl7reorder7reorderEv"></span><span id="dnnl::reorder::reorder"></span><span class="target" id="structdnnl_1_1reorder_1a52a3e3afb773f6b5c77e964c1fa37fde"></span><code class="sig-name descname">reorder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4dnnl7reorder7reorderEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Default constructor. Produces an empty object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N4dnnl7reorder7reorderERK14primitive_desc">
<span id="_CPPv3N4dnnl7reorder7reorderERK14primitive_desc"></span><span id="_CPPv2N4dnnl7reorder7reorderERK14primitive_desc"></span><span id="dnnl::reorder::reorder__primitive_descCR"></span><span class="target" id="structdnnl_1_1reorder_1a8052aeb588fa278d3e56ef85490b6690"></span><code class="sig-name descname">reorder</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N4dnnl7reorder14primitive_descE" title="dnnl::reorder::primitive_desc">primitive_desc</a> &amp;<em>pd</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4dnnl7reorder7reorderERK14primitive_desc" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Constructs a reorder primitive. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pd</span></code>: Primitive descriptor for reorder primitive. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N4dnnl7reorder7reorderERK6memoryRK6memoryRK14primitive_attr">
<span id="_CPPv3N4dnnl7reorder7reorderERK6memoryRK6memoryRK14primitive_attr"></span><span id="_CPPv2N4dnnl7reorder7reorderERK6memoryRK6memoryRK14primitive_attr"></span><span id="dnnl::reorder::reorder__memoryCR.memoryCR.primitive_attrCR"></span><span class="target" id="structdnnl_1_1reorder_1af04b380a824816defecb488a724bfb37"></span><code class="sig-name descname">reorder</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>src</em>, <em class="property">const</em> <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>dst</em>, <em class="property">const</em> <a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attrE" title="dnnl::primitive_attr">primitive_attr</a> &amp;<em>attr</em> = <a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attrE" title="dnnl::primitive_attr">primitive_attr</a>()<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4dnnl7reorder7reorderERK6memoryRK6memoryRK14primitive_attr" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Constructs a reorder primitive that would reorder data between memory objects having the same memory descriptors as memory objects <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: Source memory object. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: Destination memory object. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Primitive attributes to use (optional). </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK4dnnl7reorder7executeERK6streamR6memoryR6memory">
<span id="_CPPv3NK4dnnl7reorder7executeERK6streamR6memoryR6memory"></span><span id="_CPPv2NK4dnnl7reorder7executeERK6streamR6memoryR6memory"></span><span id="dnnl::reorder::execute__streamCR.memoryR.memoryRC"></span><span class="target" id="structdnnl_1_1reorder_1ab9d5265274a13d4afa1fe33d784a1027"></span>void <code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../execution_model/index.html#_CPPv4N4dnnl6streamE" title="dnnl::stream">stream</a> &amp;<em>astream</em>, <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>src</em>, <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>dst</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK4dnnl7reorder7executeERK6streamR6memoryR6memory" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Executes the reorder primitive.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">astream</span></code>: Stream object. The stream must belong to the same engine as the primitive. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: Source memory object. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: Destination memory object. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK4dnnl7reorder12execute_syclERK6streamR6memoryR6memoryRKNSt6vectorIN2cl4sycl5eventEEE">
<span id="_CPPv3NK4dnnl7reorder12execute_syclERK6streamR6memoryR6memoryRKNSt6vectorIN2cl4sycl5eventEEE"></span><span id="_CPPv2NK4dnnl7reorder12execute_syclERK6streamR6memoryR6memoryRKNSt6vectorIN2cl4sycl5eventEEE"></span><span id="dnnl::reorder::execute_sycl__streamCR.memoryR.memoryR.std::vector:cl::sycl::event:CRC"></span><span class="target" id="structdnnl_1_1reorder_1a56afa55fce1baf8ccb4ebbb21fce2370"></span>cl::sycl::event <code class="sig-name descname">execute_sycl</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../execution_model/index.html#_CPPv4N4dnnl6streamE" title="dnnl::stream">stream</a> &amp;<em>astream</em>, <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>src</em>, <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>dst</em>, <em class="property">const</em> std::vector&lt;cl::sycl::event&gt; &amp;<em>deps</em> = {}<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK4dnnl7reorder12execute_syclERK6streamR6memoryR6memoryRKNSt6vectorIN2cl4sycl5eventEEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Executes the reorder primitive (SYCL-aware version)</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>SYCL event that corresponds to the SYCL queue underlying the <code class="docutils literal notranslate"><span class="pre">astream</span></code>. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">astream</span></code>: Stream object. The stream must belong to the same engine as the primitive. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: Source memory object. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: Destination memory object. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deps</span></code>: Vector of SYCL events that the execution should depend on.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N4dnnl7reorder14primitive_descE">
<span id="_CPPv3N4dnnl7reorder14primitive_descE"></span><span id="_CPPv2N4dnnl7reorder14primitive_descE"></span><span id="dnnl::reorder::primitive_desc"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc"></span><em class="property">struct </em><code class="sig-name descname">primitive_desc</code> : <em class="property">public</em> dnnl::<a class="reference internal" href="general.html#_CPPv4N4dnnl19primitive_desc_baseE" title="dnnl::primitive_desc_base">primitive_desc_base</a><a class="headerlink" href="#_CPPv4N4dnnl7reorder14primitive_descE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Primitive descriptor for a reorder primitive. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N4dnnl7reorder14primitive_desc14primitive_descEv">
<span id="_CPPv3N4dnnl7reorder14primitive_desc14primitive_descEv"></span><span id="_CPPv2N4dnnl7reorder14primitive_desc14primitive_descEv"></span><span id="dnnl::reorder::primitive_desc::primitive_desc"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1a9db95f00490222c15d31778e93a0ac45"></span><code class="sig-name descname">primitive_desc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4dnnl7reorder14primitive_desc14primitive_descEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Default constructor. Produces an empty object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N4dnnl7reorder14primitive_desc14primitive_descERK6engineRKN6memory4descERK6engineRKN6memory4descERK14primitive_attr">
<span id="_CPPv3N4dnnl7reorder14primitive_desc14primitive_descERK6engineRKN6memory4descERK6engineRKN6memory4descERK14primitive_attr"></span><span id="_CPPv2N4dnnl7reorder14primitive_desc14primitive_descERK6engineRKN6memory4descERK6engineRKN6memory4descERK14primitive_attr"></span><span id="dnnl::reorder::primitive_desc::primitive_desc__engineCR.memory::descCR.engineCR.memory::descCR.primitive_attrCR"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1ae9078780b5b1baf1b0b48e256d8312b2"></span><code class="sig-name descname">primitive_desc</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../execution_model/index.html#_CPPv4N4dnnl6engineE" title="dnnl::engine">engine</a> &amp;<em>src_engine</em>, <em class="property">const</em> <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a>::<a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memory4descE" title="dnnl::memory::desc">desc</a> &amp;<em>src_md</em>, <em class="property">const</em> <a class="reference internal" href="../execution_model/index.html#_CPPv4N4dnnl6engineE" title="dnnl::engine">engine</a> &amp;<em>dst_engine</em>, <em class="property">const</em> <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a>::<a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memory4descE" title="dnnl::memory::desc">desc</a> &amp;<em>dst_md</em>, <em class="property">const</em> <a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attrE" title="dnnl::primitive_attr">primitive_attr</a> &amp;<em>attr</em> = <a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attrE" title="dnnl::primitive_attr">primitive_attr</a>()<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4dnnl7reorder14primitive_desc14primitive_descERK6engineRKN6memory4descERK6engineRKN6memory4descERK14primitive_attr" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Constructs a primitive descriptor for reorder primitive.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src_engine</span></code>: Engine on which the source memory object will be located. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src_md</span></code>: Source memory descriptor. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst_engine</span></code>: Engine on which the destination memory object will be located. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst_md</span></code>: Destination memory descriptor. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Primitive attributes to use (optional). </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N4dnnl7reorder14primitive_desc14primitive_descERK6memoryRK6memoryRK14primitive_attr">
<span id="_CPPv3N4dnnl7reorder14primitive_desc14primitive_descERK6memoryRK6memoryRK14primitive_attr"></span><span id="_CPPv2N4dnnl7reorder14primitive_desc14primitive_descERK6memoryRK6memoryRK14primitive_attr"></span><span id="dnnl::reorder::primitive_desc::primitive_desc__memoryCR.memoryCR.primitive_attrCR"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1a6b9ec5ab005bb668e4db7cefeec04c54"></span><code class="sig-name descname">primitive_desc</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>src</em>, <em class="property">const</em> <a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a> &amp;<em>dst</em>, <em class="property">const</em> <a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attrE" title="dnnl::primitive_attr">primitive_attr</a> &amp;<em>attr</em> = <a class="reference internal" href="attributes/index.html#_CPPv4N4dnnl14primitive_attrE" title="dnnl::primitive_attr">primitive_attr</a>()<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4dnnl7reorder14primitive_desc14primitive_descERK6memoryRK6memoryRK14primitive_attr" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Constructs a primitive descriptor for reorder primitive.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: Source memory object. It is used to obtain the source memory descriptor and engine. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: Destination memory object. It is used to obtain the destination memory descriptor and engine. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Primitive attributes to use (optional). </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK4dnnl7reorder14primitive_desc14get_src_engineEv">
<span id="_CPPv3NK4dnnl7reorder14primitive_desc14get_src_engineEv"></span><span id="_CPPv2NK4dnnl7reorder14primitive_desc14get_src_engineEv"></span><span id="dnnl::reorder::primitive_desc::get_src_engineC"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1a3793240346a9e432cfa8364eacbc3fac"></span><a class="reference internal" href="../execution_model/index.html#_CPPv4N4dnnl6engineE" title="dnnl::engine">engine</a> <code class="sig-name descname">get_src_engine</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK4dnnl7reorder14primitive_desc14get_src_engineEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Returns the engine on which the source memory is allocated. <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The engine on which the source memory is allocated. </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK4dnnl7reorder14primitive_desc14get_dst_engineEv">
<span id="_CPPv3NK4dnnl7reorder14primitive_desc14get_dst_engineEv"></span><span id="_CPPv2NK4dnnl7reorder14primitive_desc14get_dst_engineEv"></span><span id="dnnl::reorder::primitive_desc::get_dst_engineC"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1a6667395ce77d7c4651d8d9d11dae4a4b"></span><a class="reference internal" href="../execution_model/index.html#_CPPv4N4dnnl6engineE" title="dnnl::engine">engine</a> <code class="sig-name descname">get_dst_engine</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK4dnnl7reorder14primitive_desc14get_dst_engineEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Returns the engine on which the destination memory is allocated. <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The engine on which the destination memory is allocated. </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK4dnnl7reorder14primitive_desc8src_descEv">
<span id="_CPPv3NK4dnnl7reorder14primitive_desc8src_descEv"></span><span id="_CPPv2NK4dnnl7reorder14primitive_desc8src_descEv"></span><span id="dnnl::reorder::primitive_desc::src_descC"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1a07491b1aa7302a3d43ecb0671d9a6cd5"></span><a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a>::<a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memory4descE" title="dnnl::memory::desc">desc</a> <code class="sig-name descname">src_desc</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK4dnnl7reorder14primitive_desc8src_descEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Returns a source memory descriptor. <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Source memory descriptor. </p>
</dd>
<dt><strong>Return</strong></dt><dd><p>A zero memory descriptor if the primitive does not have a source parameter. </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK4dnnl7reorder14primitive_desc8dst_descEv">
<span id="_CPPv3NK4dnnl7reorder14primitive_desc8dst_descEv"></span><span id="_CPPv2NK4dnnl7reorder14primitive_desc8dst_descEv"></span><span id="dnnl::reorder::primitive_desc::dst_descC"></span><span class="target" id="structdnnl_1_1reorder_1_1primitive__desc_1ab167220e0773c3e8a66782ad62aef373"></span><a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memoryE" title="dnnl::memory">memory</a>::<a class="reference internal" href="../data_model/memory/objects.html#_CPPv4N4dnnl6memory4descE" title="dnnl::memory::desc">desc</a> <code class="sig-name descname">dst_desc</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK4dnnl7reorder14primitive_desc8dst_descEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Returns a destination memory descriptor. <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Destination memory descriptor. </p>
</dd>
<dt><strong>Return</strong></dt><dd><p>A zero memory descriptor if the primitive does not have a destination parameter. </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="resampling.html" class="btn btn-neutral float-right" title="Resampling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pooling.html" class="btn btn-neutral float-left" title="Pooling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>