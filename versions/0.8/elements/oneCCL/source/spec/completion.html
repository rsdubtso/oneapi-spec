

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Track Communication Progress &mdash; oneAPI Specification 0.8 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Error Handling" href="error_handling.html" />
    <link rel="prev" title="Collective Call Attributes" href="collective_call_attributes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">oneCCL</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../definitions.html">Definitions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="main_objects.html">oneCCL Concepts</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="collective_communication.html">oneCCL Collective Communication</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="communication_primitives.html">Collective Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="ccl_datatypes.html">Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="collective_call_attributes.html">Collective Call Attributes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Track Communication Progress</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="error_handling.html">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../programming_model.html">Programming Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneMKL/source/index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../index.html">oneCCL</a> </li>
          
        
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneCCL/source/spec/completion.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="track-communication-progress">
<h1>Track Communication Progress<a class="headerlink" href="#track-communication-progress" title="Permalink to this headline">¶</a></h1>
<p>The progress for any of the collective operations provided by oneCCL can be tracked using <a class="reference internal" href="#test">Test</a> or <a class="reference internal" href="#wait">Wait</a> function for <a class="reference internal" href="#request">Request</a> object.</p>
<div class="section" id="request">
<h2>Request<a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h2>
<p>Each collective communication operation of oneCCL returns a request that can be used
to query completion of this operation or to block the execution while the operation is in progress.
oneCCL request is an opaque handle that is managed by corresponding APIs.</p>
<p><strong>C version of oneCCL API:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">void</span><span class="o">*</span> <span class="n">ccl_request_t</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>C++ version of oneCCL API:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/**</span>
<span class="o">*</span> <span class="n">A</span> <span class="n">request</span> <span class="n">interface</span> <span class="n">that</span> <span class="n">allows</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">track</span> <span class="n">collective</span> <span class="n">operation</span> <span class="n">progress</span>
<span class="o">*/</span>
<span class="k">class</span> <span class="nc">request</span>
<span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
    <span class="o">/**</span>
    <span class="o">*</span> <span class="n">Blocking</span> <span class="n">wait</span> <span class="k">for</span> <span class="n">collective</span> <span class="n">operation</span> <span class="n">completion</span>
    <span class="o">*/</span>
    <span class="n">virtual</span> <span class="n">void</span> <span class="n">wait</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="o">/**</span>
    <span class="o">*</span> <span class="n">Non</span><span class="o">-</span><span class="n">blocking</span> <span class="n">check</span> <span class="k">for</span> <span class="n">collective</span> <span class="n">operation</span> <span class="n">completion</span>
    <span class="o">*</span> <span class="nd">@retval</span> <span class="n">true</span> <span class="k">if</span> <span class="n">the</span> <span class="n">operations</span> <span class="n">has</span> <span class="n">been</span> <span class="n">completed</span>
    <span class="o">*</span> <span class="nd">@retval</span> <span class="n">false</span> <span class="k">if</span> <span class="n">the</span> <span class="n">operations</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">been</span> <span class="n">completed</span>
    <span class="o">*/</span>
    <span class="n">virtual</span> <span class="nb">bool</span> <span class="n">test</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">virtual</span> <span class="o">~</span><span class="n">request</span><span class="p">()</span> <span class="o">=</span> <span class="n">default</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="test">
<h2>Test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h2>
<p>Non-blocking operation that returns the completion status.</p>
<p><strong>C version of oneCCL API:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ccl_status_t</span> <span class="n">ccl_test</span><span class="p">(</span><span class="n">ccl_request_t</span> <span class="n">req</span><span class="p">,</span> <span class="nb">int</span><span class="o">*</span> <span class="n">is_completed</span><span class="p">);</span>
</pre></div>
</div>
<dl>
<dt>req</dt><dd><p>requests the handle for communication operation being tracked</p>
</dd>
<dt>is_completed</dt><dd><p>indicates the status:</p>
<blockquote>
<div><ul class="simple">
<li><p>0 - operation is in progress</p></li>
<li><p>otherwise, the operation is completed</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p><strong>C++ version of oneCCL API:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">request</span><span class="p">::</span><span class="n">test</span><span class="p">();</span>
</pre></div>
</div>
<p>Returns the value that indicates the status:</p>
<ul class="simple">
<li><p>0 - operation is in progress</p></li>
<li><p>otherwise, the operation is completed.</p></li>
</ul>
</div>
<div class="section" id="wait">
<h2>Wait<a class="headerlink" href="#wait" title="Permalink to this headline">¶</a></h2>
<p>Operation that blocks the execution until communication operation is completed.</p>
<p><strong>C version of oneCCL API:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ccl_status_t</span> <span class="n">ccl_wait</span><span class="p">(</span><span class="n">ccl_request_t</span> <span class="n">req</span><span class="p">);</span>
</pre></div>
</div>
<dl class="simple">
<dt>req</dt><dd><p>requests the handle for communication operation being tracked</p>
</dd>
</dl>
<p><strong>C++ version of oneCCL API:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">request</span><span class="p">::</span><span class="n">wait</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="error_handling.html" class="btn btn-neutral float-right" title="Error Handling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collective_call_attributes.html" class="btn btn-neutral float-left" title="Collective Call Attributes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>