

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DPC++ &mdash; oneAPI Specification 0.8 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="oneDPL" href="../../oneDPL/source/index.html" />
    <link rel="prev" title="oneAPI Elements" href="../../elements.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DPC++</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#detailed-api-and-language-descriptions">Detailed API and Language Descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-source-implementation">Open Source Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../oneCCL/source/index.html">oneCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../oneMKL/source/index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">oneAPI Specification</a> &raquo;</li>
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/dpcpp/source/index.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dpc">
<span id="onedpcpp-section"></span><h1>DPC++<a class="headerlink" href="#dpc" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>oneAPI Data Parallel C++ (DPC++) is the direct programming language and
associated direct programming APIs of oneAPI.  It provides the
features needed to define data parallel functions and to launch them
on devices.  The language is comprised of the following components:</p>
<ul class="simple">
<li><p>C++.  Every DPC++ program is also a C++ program.  A
compliant DPC++ implementation must support the C++17 Core Language
(as specified in Sections 1-19 of ISO/IEC 14882:2017) or
newer.  See the <a class="reference external" href="https://isocpp.org/std/the-standard">C++ Standard</a>.</p></li>
<li><p>SYCL.  DPC++ includes the SYCL language. SYCL enables
the definition of data parallel functions that can be offloaded to
devices and defines runtime APIs and classes that are used to
orchestrate the offloaded functions.  A compliant DPC++
implementation must also be a conformant SYCL 1.2.1 (or later)
implementation, a process which includes Khronos* conformance testing
and an adopter process.  (See the <a class="reference external" href="https://www.khronos.org/registry/SYCL/specs/sycl-1.2.1.pdf">SYCL Specification</a> and <a class="reference external" href="https://www.khronos.org/sycl/adopters/">SYCL
Adopters</a>.)</p></li>
<li><p>DPC++ Language extensions. A compliant DPC++ implementation must
support the specified language features.  These include
unified shared memory (USM), ordered queues, and reductions. Some
extensions are required only when the DPC++
implementation supports a specific class of device, as summarized in the
<a class="reference internal" href="#extensions-table">Extensions Table</a>. An implementation supports a class of device if
it can target hardware that responds “true” for a DPC++
device type query, either through explicit support built into the
implementation, or by using a lower layer that can support those
device classes such as the oneAPI Level Zero
(Level Zero).  A DPC++ implementation must pass the
conformance tests for all extensions that are required (<a class="reference internal" href="#extensions-table">Extensions
Table</a>) for the classes of devices that the implementation can
support.  (See <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions">SYCL Extensions</a>.)</p></li>
</ul>
<p>This specification requires a minimum of C++17 Core Language support, SYCL 1.2.1, and
DPC++ extensions. These version and feature coverage requirements
will evolve over time, with newer versions of C++ and SYCL being required,
some additional extensions being required, and some DPC++ extensions no longer
required if covered by newer C++ or SYCL versions directly.</p>
<table class="docutils align-default" id="extensions-table">
<caption><span class="caption-text">DPC++ Extensions Table: Support requirements for DPC++
        implementations supporting specific classes of devices</span><a class="headerlink" href="#extensions-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Extension</p></th>
<th class="head"><p>CPU</p></th>
<th class="head"><p>GPU</p></th>
<th class="head"><p>FPGA</p></th>
<th class="head"><p>Test <a class="footnote-reference brackets" href="#test" id="id1">1</a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/USM">Unified Shared Memory</a></p></td>
<td><p>Required <a class="footnote-reference brackets" href="#usm" id="id2">2</a></p></td>
<td><p>Required <a class="footnote-reference brackets" href="#usm" id="id3">2</a></p></td>
<td><p>Required <a class="footnote-reference brackets" href="#usm" id="id4">2</a></p></td>
<td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test/usm">usm</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/OrderedQueue">In-order queues</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA <a class="footnote-reference brackets" href="#na" id="id5">3</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/UnnamedKernelLambda">Optional lambda name</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA <a class="footnote-reference brackets" href="#na" id="id6">3</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/guides">Deduction guides</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA <a class="footnote-reference brackets" href="#na" id="id7">3</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/Reduction">Reductions</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA <a class="footnote-reference brackets" href="#na" id="id8">3</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/SubGroup">Sub-groups</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Not required <a class="footnote-reference brackets" href="#tmp" id="id9">4</a></p></td>
<td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test/sub_group">sub_group</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/SubGroupAlgorithms">Sub-group algorithms</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Not required <a class="footnote-reference brackets" href="#tmp" id="id10">4</a></p></td>
<td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test/sub_group">sub_group</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/EnqueueBarrier">Enqueued barriers</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/ExtendedAtomics">Extended atomics</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/GroupAlgorithms">Group algorithms</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/GroupMask">Group mask</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/KernelRestrictAll">Restrict all arguments</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/RelaxStdLayout">Standard layout relaxed</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/QueueShortcuts">Queue shortcuts</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/ReqdWorkGroupSize">Reqd work-group size</a></p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>Required</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions/DataFlowPipes">Data flow pipes</a></p></td>
<td><p>Not required</p></td>
<td><p>Not required</p></td>
<td><p>Required</p></td>
<td><p><a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test/fpga_tests">fpga_tests</a></p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="test"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Test directory within <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test">extension tests</a></p>
</dd>
<dt class="label" id="usm"><span class="brackets">2</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id3">2</a>,<a href="#id4">3</a>)</span></dt>
<dd><p>Minimum of explicit USM support</p>
</dd>
<dt class="label" id="na"><span class="brackets">3</span><span class="fn-backref">(<a href="#id5">1</a>,<a href="#id6">2</a>,<a href="#id7">3</a>,<a href="#id8">4</a>)</span></dt>
<dd><p>Not yet available.</p>
</dd>
<dt class="label" id="tmp"><span class="brackets">4</span><span class="fn-backref">(<a href="#id9">1</a>,<a href="#id10">2</a>)</span></dt>
<dd><p>Likely to be required in the future</p>
</dd>
</dl>
</div>
<div class="section" id="detailed-api-and-language-descriptions">
<h2>Detailed API and Language Descriptions<a class="headerlink" href="#detailed-api-and-language-descriptions" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://www.khronos.org/registry/SYCL/specs/sycl-1.2.1.pdf">SYCL Specification</a> describes the SYCL APIs and language.  DPC++ extensions on top of SYCL
are described in the <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/doc/extensions">SYCL Extensions</a> repository.</p>
<p>A brief summary of the extensions is as follows:</p>
<ul class="simple">
<li><p>Unified Shared Memory (USM) - defines pointer based memory accesses and management interfaces. Provides
the ability to create allocations that are visible and have consistent pointer values across both
host and device(s).  Different USM capability levels are defined, corresponding to different levels
of device and implementation support.</p></li>
<li><p>In-order queues - defines simple in-order semantics for queues, to simplify common coding patterns.</p></li>
<li><p>Optional lambda name - removes requirement to manually name lambdas that define kernels.
Simplifies coding and enables composability with libraries.  Lambdas can still be manually named, if
desired, such as when debugging or interfacing with a sycl::program object.</p></li>
<li><p>Deduction guides - simplifies common code patterns and reduces code length and verbosity by enabling
Class Template Argument Deduction (CTAD) from modern C++.</p></li>
<li><p>Reductions - provides a reduction abstraction to the ND-range form of <em>parallel_for</em>.  Improves productivity
by providing the common reduction pattern without explicit coding, and enables optimized
implementations to exist for combinations of device, runtime, and reduction properties.</p></li>
<li><p>Subgroups - defines a grouping of work-items within a work-group. Synchronization
of work-items in a subgroup can occur independently of work-items in other subgroups, and
subgroups expose communication operations across work-items in the group.  Subgroups commonly
map to SIMD hardware where it exists.</p></li>
<li><p>Subgroup algorithms - defines collective operations across work-items in a sub-group that are available
only for sub-groups.  Also enables algorithms from the more generic “group algorithms” extension as sub-group
collective operations.</p></li>
<li><p>Enqueued barriers - simplifies dependence creation and tracking for some common programming patterns by allowing
coarser grained synchronization within a queue without manual creation of fine grained dependencies.</p></li>
<li><p>Extended atomics - provides atomic operations aligned with C++20, including support for floating-point types and
shorthand operators</p></li>
<li><p>Group algorithms - defines collective operations that operate across groups of work-items, including broadcast,
reduce, and scan.  Improves productivity by providing common algorithms without explicit coding, and enables optimized
implementations to exist for combinations of device and runtime.</p></li>
<li><p>Group mask - defines a type that can represent a set of work-items from a group, and collective operations that create
or operate on that type such as ballot and count.</p></li>
<li><p>Restrict all arguments - defines an attribute that can be applied to kernels (including lambda definitions of kernels)
which signals that there will be no memory aliasing between any pointer arguments that are passed to or captured
by a kernel.  This is an optimization attribute that can have large impact when the developer knows more about the
kernel arguments than a compiler can infer or safely assume.</p></li>
<li><p>Standard layout relaxed - removes the requirement that data shared by a host and device(s) must be C++ standard layout
types.  Requires device compilers to validate layout compatibility.</p></li>
<li><p>Queue shortcuts - defines kernel invocation functions directly on the queue classes, to simplify code patterns
where dependencies and/or accessors do not need to be created within the additional command group scope.  Reduces
code verbosity in some common patterns.</p></li>
<li><p>Required work-group size - defines an attribute that can be applied to kernels (including lambda definitions of kernels)
which signals that the kernel will only be invoked with a specific work-group size.  This is an optimization attribute
that enables optimizations based on additional user-driven information.</p></li>
<li><p>Data flow pipes - enables efficient First-In, First-Out (FIFO) communication in DPC++, a mechanism commonly
used when describing algorithms for spatial architectures such as FPGAs.</p></li>
</ul>
</div>
<div class="section" id="open-source-implementation">
<h2>Open Source Implementation<a class="headerlink" href="#open-source-implementation" title="Permalink to this headline">¶</a></h2>
<p>An <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/">open source implementation</a> is available under
an LLVM license.  Details on incomplete features and known issues are
available in the <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/ReleaseNotes.md">Release Notes</a> (and the <a class="reference external" href="https://github.com/intel/llvm/blob/sycl/sycl/doc/GetStartedWithSYCLCompiler.md#known-issues-and-limitations">Getting Started Guide</a>
until the release notes are available).</p>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>A DPC++ implementation must pass:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The Khronos SYCL 1.2.1 <a class="reference external" href="https://github.com/KhronosGroup/SYCL-CTS">conformance test suite</a> (SYCL-1.2.1/master branch).</p></li>
<li><p>The <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test">extension tests</a> for any extension implemented from the <a class="reference internal" href="#extensions-table">Extensions Table</a>.
Each extension in the <a class="reference internal" href="#extensions-table">Extensions Table</a> lists the name of the directory that contains
corresponding tests, within the <a class="reference external" href="https://github.com/intel/llvm/tree/sycl/sycl/test">extension tests</a> tree.</p></li>
</ol>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../oneDPL/source/index.html" class="btn btn-neutral float-right" title="oneDPL" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../elements.html" class="btn btn-neutral float-left" title="oneAPI Elements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>