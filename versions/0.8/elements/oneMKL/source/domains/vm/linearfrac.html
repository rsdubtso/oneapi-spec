

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.5.2.1.9. linearfrac &mdash; oneAPI Specification 0.8 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../../_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
        <script src="../../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="2.5.2.1.10. fmod" href="fmod.html" />
    <link rel="prev" title="2.5.2.1.8. arg" href="arg.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneCCL/source/index.html">oneCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../../index.html">oneMKL</a> </li>
          
        
          
        
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneMKL/source/domains/vm/linearfrac.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="linearfrac">
<h1><span class="section-number">2.5.2.1.9. </span>linearfrac<a class="headerlink" href="#linearfrac" title="Permalink to this headline">¶</a></h1>
<div class="docutils container">
<p>Performs linear fraction transformation of vectors <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>
with scalar parameters.</p>
<div class="section docutils container" id="guid-eda7015a-0e9a-42ab-a7e3-ad81c19be84b">
<p class="sectiontitle rubric">Syntax</p>
<p>Buffer API:</p>
<dl class="cpp function">
<dt id="_CPPv410linearfracR5queue7int64_tR6bufferI1TXL1EEER6bufferI1TXL1EEE1T1T1T1TR6bufferI1TXL1EEE8uint64_t13error_handlerI1TE">
<span id="_CPPv310linearfracR5queue7int64_tR6bufferI1TXL1EEER6bufferI1TXL1EEE1T1T1T1TR6bufferI1TXL1EEE8uint64_t13error_handlerI1TE"></span><span id="_CPPv210linearfracR5queue7int64_tR6bufferI1TX1EER6bufferI1TX1EE1T1T1T1TR6bufferI1TX1EE8uint64_t13error_handlerI1TE"></span><span id="linearfrac__queueR.int64_t.buffer:T.1:R.buffer:T.1:R.T.T.T.T.buffer:T.1:R.uint64_t.error_handler:T:"></span>void <code class="sig-name descname">linearfrac</code><span class="sig-paren">(</span>queue &amp;<em>exec_queue</em>, int64_t <em>n</em>, buffer&lt;T, 1&gt; &amp;<em>a</em>, buffer&lt;T, 1&gt; &amp;<em>b</em>, T <em>scalea</em>, T <em>shifta</em>, T <em>scaleb</em>, T <em>shiftb</em>, buffer&lt;T, 1&gt; &amp;<em>y</em>, uint64_t <em>mode</em> = <a class="reference internal" href="#_CPPv410linearfracR5queue7int64_tR6bufferI1TXL1EEER6bufferI1TXL1EEE1T1T1T1TR6bufferI1TXL1EEE8uint64_t13error_handlerI1TE" title="linearfrac::mode">mode</a>::not_defined, error_handler&lt;T&gt; <em>errhandler</em> = {}<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410linearfracR5queue7int64_tR6bufferI1TXL1EEER6bufferI1TXL1EEE1T1T1T1TR6bufferI1TXL1EEE8uint64_t13error_handlerI1TE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p>USM API:</p>
<dl class="cpp function">
<dt id="_CPPv410linearfracR5queue7int64_tP1TP1T1T1T1T1TP1TP12vector_classI5eventE8uint64_t13error_handlerI1TE">
<span id="_CPPv310linearfracR5queue7int64_tP1TP1T1T1T1T1TP1TP12vector_classI5eventE8uint64_t13error_handlerI1TE"></span><span id="_CPPv210linearfracR5queue7int64_tP1TP1T1T1T1T1TP1TP12vector_classI5eventE8uint64_t13error_handlerI1TE"></span><span id="linearfrac__queueR.int64_t.TP.TP.T.T.T.T.TP.vector_class:event:P.uint64_t.error_handler:T:"></span>event <code class="sig-name descname">linearfrac</code><span class="sig-paren">(</span>queue &amp;<em>exec_queue</em>, int64_t <em>n</em>, T *<em>a</em>, T *<em>b</em>, T <em>scalea</em>, T <em>shifta</em>, T <em>scaleb</em>, T <em>shiftb</em>, T *<em>y</em>, vector_class&lt;event&gt; *<em>depends</em>, uint64_t <em>mode</em> = <a class="reference internal" href="#_CPPv410linearfracR5queue7int64_tP1TP1T1T1T1T1TP1TP12vector_classI5eventE8uint64_t13error_handlerI1TE" title="linearfrac::mode">mode</a>::not_defined, error_handler&lt;T&gt; <em>errhandler</em> = {}<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410linearfracR5queue7int64_tP1TP1T1T1T1T1TP1TP12vector_classI5eventE8uint64_t13error_handlerI1TE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">linearfrac</span></code> supports the following precisions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>T</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section docutils container" id="guid-25be7c74-ff96-4a0c-b8f7-93ecc1da05e9">
<p class="sectiontitle rubric">Description</p>
<p>The linearfrac(a,b,scalea,shifta,scaleb,shiftb) function performs a
linear fraction transformation of vector <code class="docutils literal notranslate"><span class="pre">a</span></code> by vector <code class="docutils literal notranslate"><span class="pre">b</span></code> with
scalar parameters: scaling multipliers scalea, scaleb and shifting
addends shifta, shiftb:</p>
<p><code class="docutils literal notranslate"><span class="pre">y[i]=(scalea·a[i]+shifta)/(scaleb·b[i]+shiftb)</span></code>, <code class="docutils literal notranslate"><span class="pre">i</span></code>=1,2 … n</p>
<p>The linearfrac function is implemented in the EP accuracy mode only,
therefore no special values are defined for this function. If used in
HA or LA mode, linearfrac sets the VM Error Status to
status::accuracy_warning. Correctness is guaranteed within the
threshold limitations defined for each input parameter (see the table
below); otherwise, the behavior is unspecified.</p>
<div class="tablenoborder docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Threshold Limitations on Input Parameters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">2EMIN/2≤</span> <span class="pre">|scalea|</span> <span class="pre">≤</span> <span class="pre">2(EMAX-2)/2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">2EMIN/2≤</span> <span class="pre">|scaleb|</span> <span class="pre">≤</span> <span class="pre">2(EMAX-2)/2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">|shifta|</span> <span class="pre">≤</span> <span class="pre">2EMAX-2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">|shiftb|</span> <span class="pre">≤</span> <span class="pre">2EMAX-2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">2EMIN/2≤a[i]</span> <span class="pre">≤</span> <span class="pre">2(EMAX-2)/2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">2EMIN/2≤b[i]</span> <span class="pre">≤</span> <span class="pre">2(EMAX-2)/2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">a[i]</span> <span class="pre">≠</span> <span class="pre">-</span> <span class="pre">(shifta/scalea)*(1-δ1),</span> <span class="pre">|δ1|</span> <span class="pre">≤</span> <span class="pre">21-(p-1)/2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">b[i]</span> <span class="pre">≠</span> <span class="pre">-</span> <span class="pre">(shiftb/scaleb)*(1-δ2),</span> <span class="pre">|δ2|</span> <span class="pre">≤</span> <span class="pre">21-(p-1)/2</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EMIN</span></code>and <code class="docutils literal notranslate"><span class="pre">EMAX</span></code> are the minimum and maximum exponents and
<code class="docutils literal notranslate"><span class="pre">p</span></code> is the number of significant bits (precision) for the
corresponding data type according to the ANSI/IEEE Standard 754-2008
([<a class="reference external" href="bibliography.html">IEEE754</a>]):</p>
<ul class="simple">
<li><p>for single precision<code class="docutils literal notranslate"><span class="pre">EMIN</span></code> = -126, <code class="docutils literal notranslate"><span class="pre">EMAX</span></code> = 127, <code class="docutils literal notranslate"><span class="pre">p</span></code> = 24</p></li>
<li><p>for double precision<code class="docutils literal notranslate"><span class="pre">EMIN</span></code> = -1022, <code class="docutils literal notranslate"><span class="pre">EMAX</span></code> = 1023, <code class="docutils literal notranslate"><span class="pre">p</span></code> =
53</p></li>
</ul>
<p>The thresholds become less strict for common cases with scalea=0
and/or scaleb=0:</p>
<ul class="simple">
<li><p>ifscalea=0, there are no limitations for the values of <code class="docutils literal notranslate"><span class="pre">a[i]</span></code>
and shifta.</p></li>
<li><p>ifscaleb=0, there are no limitations for the values of <code class="docutils literal notranslate"><span class="pre">b[i]</span></code>
and shiftb.</p></li>
</ul>
</div>
<div class="section docutils container" id="guid-8d31ee70-939f-4573-948a-01f1c3018531">
<p class="sectiontitle rubric">Input Parameters</p>
<p>Buffer API:</p>
<dl class="simple">
<dt>exec_queue</dt><dd><p>The queue where the routine should be executed.</p>
</dd>
<dt>n</dt><dd><p>Specifies the number of elements to be calculated.</p>
</dd>
<dt>a</dt><dd><p>The buffer <code class="docutils literal notranslate"><span class="pre">a</span></code> containing 1st input vector of size <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
<dt>b</dt><dd><p>The buffer <code class="docutils literal notranslate"><span class="pre">b</span></code> containing 2nd input vector of size <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
<dt>scalea</dt><dd><p>Constant value for scaling multipliers of vector <code class="docutils literal notranslate"><span class="pre">a</span></code></p>
</dd>
<dt>shifta</dt><dd><p>Constant value for shifting addend of vector <code class="docutils literal notranslate"><span class="pre">a</span></code></p>
</dd>
<dt>scaleb</dt><dd><p>Constant value for scaling multipliers of vector <code class="docutils literal notranslate"><span class="pre">b</span></code></p>
</dd>
<dt>shiftb</dt><dd><p>Constant value for shifting addend of vector <code class="docutils literal notranslate"><span class="pre">b</span></code></p>
</dd>
<dt>mode</dt><dd><p>Overrides the global VM mode setting for this function call. See
<a class="reference external" href="setmode.html">set_mode</a>
function for possible values and their description. This is an
optional parameter. The default value is <code class="docutils literal notranslate"><span class="pre">mode::not_defined</span></code>.</p>
</dd>
<dt>errhandler</dt><dd><p>Sets local error handling mode for this function call. See the
<a class="reference external" href="create_error_handler.html">create_error_handler</a>
function for arguments and their descriptions. This is an optional
parameter. The local error handler is disabled by default.</p>
</dd>
</dl>
<p>USM API:</p>
<dl class="simple">
<dt>exec_queue</dt><dd><p>The queue where the routine should be executed.</p>
</dd>
<dt>n</dt><dd><p>Specifies the number of elements to be calculated.</p>
</dd>
<dt>a</dt><dd><p>The pointer <code class="docutils literal notranslate"><span class="pre">a</span></code> to the 1st input vector of size <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
<dt>b</dt><dd><p>The pointer <code class="docutils literal notranslate"><span class="pre">b</span></code> to the 2nd input vector of size <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
<dt>scalea</dt><dd><p>Constant value for scaling multipliers of vector <code class="docutils literal notranslate"><span class="pre">a</span></code></p>
</dd>
<dt>shifta</dt><dd><p>Constant value for shifting addend of vector <code class="docutils literal notranslate"><span class="pre">a</span></code></p>
</dd>
<dt>scaleb</dt><dd><p>Constant value for scaling multipliers of vector <code class="docutils literal notranslate"><span class="pre">b</span></code></p>
</dd>
<dt>shiftb</dt><dd><p>Constant value for shifting addend of vector <code class="docutils literal notranslate"><span class="pre">b</span></code></p>
</dd>
<dt>depends</dt><dd><p>Vector of dependent events (to wait for input data to be ready).</p>
</dd>
<dt>mode</dt><dd><p>Overrides the global VM mode setting for this function call. See
the <a class="reference external" href="setmode.html">set_mode</a>
function for possible values and their description. This is an
optional parameter. The default value is <code class="docutils literal notranslate"><span class="pre">mode::not_defined</span></code>.</p>
</dd>
<dt>errhandler</dt><dd><p>Sets local error handling mode for this function call. See the
<a class="reference external" href="create_error_handler.html">create_error_handler</a>
function for arguments and their descriptions. This is an optional
parameter. The local error handler is disabled by default.</p>
</dd>
</dl>
</div>
<div class="section docutils container" id="guid-08546e2a-7637-44e3-91a3-814e524f5fb7">
<p class="sectiontitle rubric">Output Parameters</p>
<p>Buffer API:</p>
<dl class="simple">
<dt>y</dt><dd><p>The buffer <code class="docutils literal notranslate"><span class="pre">y</span></code> containing the output vector of size <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
</dl>
<p>USM API:</p>
<dl class="simple">
<dt>y</dt><dd><p>Pointer <code class="docutils literal notranslate"><span class="pre">y</span></code> to the output vector of size <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd>
<dt>return value (event)</dt><dd><p>Function end event.</p>
</dd>
</dl>
</div>
<div class="section docutils container" id="guid-c97bf68f-b566-4164-95e0-a7adc290dde2">
<p class="sectiontitle rubric">Example</p>
<p>An example of how to use linearfrac can be found in the oneMKL
installation directory, under:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">examples</span><span class="o">/</span><span class="n">sycl</span><span class="o">/</span><span class="n">vml</span><span class="o">/</span><span class="n">vllinearfrac</span><span class="o">.</span><span class="n">cpp</span>
</pre></div>
</div>
</div>
<div class="familylinks docutils container">
<div class="parentlink docutils container">
<p><strong>Parent topic:</strong> <a class="reference external" href="arithmetic-functions.html">Arithmetic
Functions</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fmod.html" class="btn btn-neutral float-right" title="2.5.2.1.10. fmod" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arg.html" class="btn btn-neutral float-left" title="2.5.2.1.8. arg" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>