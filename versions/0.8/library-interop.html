

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library Interoperability &mdash; oneAPI Specification 0.8 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="oneAPI Elements" href="elements/elements.html" />
    <link rel="prev" title="Software Architecture" href="architecture.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Software Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Library Interoperability</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#queueing">Queueing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-arguments">API Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#asynchronous-apis">Asynchronous APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="elements/elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneCCL/source/index.html">oneCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="elements/oneMKL/source/index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">oneAPI Specification</a> &raquo;</li>
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/library-interop.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="library-interoperability">
<h1>Library Interoperability<a class="headerlink" href="#library-interoperability" title="Permalink to this headline">¶</a></h1>
<p>Libraries support API programming. oneAPI libraries meet the
following requirements to ensure interoperability and provide full
platform performance.</p>
<div class="section" id="queueing">
<h2>Queueing<a class="headerlink" href="#queueing" title="Permalink to this headline">¶</a></h2>
<p>APIs that launch a computation on a device allow the programmer to control where
the computation is performed by passing a queue. A queue can be passed
with every invocation or it can be passed once and retained in a library’s
internal state.</p>
</div>
<div class="section" id="api-arguments">
<h2>API Arguments<a class="headerlink" href="#api-arguments" title="Permalink to this headline">¶</a></h2>
<p>When an API accepts a buffer as an argument there is an
equivalent API that accepts a unified-shared memory (USM)
pointer. Some API’s accept a USM pointer but do not have variants that
accept buffers.</p>
<p>APIs document when an argument is accessed from a device and when an
argument is accessed by the host. Behavior is undefined if you pass a
device argument that is not accessible by the device (non-USM pointer,
for example), or a host argument that is not accessible by the host
(<code class="code docutils literal notranslate"><span class="pre">malloc_device</span></code>, for example).</p>
</div>
<div class="section" id="asynchronous-apis">
<h2>Asynchronous APIs<a class="headerlink" href="#asynchronous-apis" title="Permalink to this headline">¶</a></h2>
<p>To achieve the best performance on a oneAPI platform, the host and
devices should execute concurrently. Concurrent execution is supported
via asynchronous APIs that queue one or more kernels and immediately
return control to the host.  Synchronous APIs stall the host thread
until the API is complete.</p>
<p>Scheduling of an asynchronous oneAPI library call is controlled by two
mechanisms:</p>
<ul class="simple">
<li><p>APIs that accept buffers rely on the buffer/accessor mechanism in
the oneAPI runtime to schedule computation on the host and devices.</p></li>
<li><p>APIs that accept USM pointers accept a vector of prerequisite events
and the scheduler waits on the events before submitting the call for
execution on the device.  The API returns an event that another
kernel or library API can wait on to ensure the output data is
ready.</p></li>
</ul>
</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>This specification recommends that oneAPI library APIs signal errors by
throwing C++ exceptions.  Some APIs use alternative methods for error
reporting, due to legacy requirements.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="elements/elements.html" class="btn btn-neutral float-right" title="oneAPI Elements" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="architecture.html" class="btn btn-neutral float-left" title="Software Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>